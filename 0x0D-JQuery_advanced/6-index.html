<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Task 6</title>
    <script src="http://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
  </head>
  <body>
    <script type="application/javascript">
      function createFamilyTree(){
        $('body').append('<table>');
        $('table').append('<thead></thead');
        $('thead').append('<tr></tr>');
        $('tr').append('<th></th>');
        $('th').first().text('Firstname');
                
        $('tr').append('<th></th>');
        $('th').last().text('Lastname');

        $('table').append('<tbody>');
        $('tbody').append('<tr></tr>');
      };

      function addNewMember(firstName, lastName, position){
        let x = $('<td>(x)</td>').css('background', 'orange');
        $(x).click(function(){
          $('tr').remove();
        });

        $('tbody').append('<tr></tr>');
        $('tr').last().append('<td>' + firstName + '</td>', '<td>' + lastName + '</td>', x);

        if (position == 'before'){
          /*Adds a top row*/
          $('tbody').prepend('<tr></tr>');
        } else{
          /*Adds a bottom row*/
          $('tbody').append('<tr></tr>');
        }
      };

      function createForm(){
        $('table').before('<input type="text"><input id ="2" type="text">');
        $('#2').after('<select></select>');
        $('select').append('<option value="before">Before</option><option value="after">After</option>');
        $('select').after('<input id="sub" type="submit">');

        $('#sub').click(function(){
          addNewMember($('firstName').val() + $('lastName').val() + position);
        });
      };

      createFamilyTree();
      createForm();
    </script>
  </body>
</html>
